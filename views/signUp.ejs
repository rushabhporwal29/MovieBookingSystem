<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <title>Sign Up</title>

</head>

<body style="background-image: url('./login.jpg')">
    <!-- Create By Joker Banny -->
	<div class="min-h-screen ">
		<div class="flex justify-end">
			<div class="bg-white min-h-screen w-1/3 flex justify-center items-center bg-opacity-90">
				<div>
					<form">
						<div>
							<h1 class="text-2xl font-bold">Create Account Here</h1>
						</div>
						<div class="my-3">
							<label class="block text-md mb-2" for="name">Name</label>
							<input id="name" class="px-4 w-full border-2 py-2 rounded-md text-sm outline-none" type="text" name="name" placeholder="Enter Name">
						</div>
						<div class="my-3">
							<label class="block text-md mb-2" for="username">Username</label>
							<input id="username" class="px-4 w-full border-2 py-2 rounded-md text-sm outline-none" type="text" name="username" placeholder="Enter Username">
						</div>
						<div class="mt-5">
							<label class="block text-md mb-2" for="npassword">New Password</label>
							<input id="npassword" class="px-4 w-full border-2 py-2 rounded-md text-sm outline-none" type="password" name="npassword" placeholder="New Password">
						</div>
						<div class="mt-5">
							<label class="block text-md mb-2" for="cpassword">Confirm Password</label>
							<input id="cpassword" class="px-4 w-full border-2 py-2 rounded-md text-sm outline-none" type="password" name="cpassword" placeholder="Confirm Password">
						</div>	
								
						<div class="">
							<button id="submit"class="mt-4 mb-3 w-full bg-green-500 hover:bg-green-400 text-white py-2 rounded-md transition duration-100" onclick="signUp()">Sign Up</button>
						</div>
					</form>
					<p class="mt-8"> Already have an account? <a href="/" class="cursor-pointer text-sm text-blue-600"> Login Here</a></p>
				</div>
			</div>
		</div>
	</div>

	<script>
		function signUp() {
			let name=document.getElementById("name").value;
			let username=document.getElementById("username").value;
			let npassword=document.getElementById("npassword").value;
			let cpassword=document.getElementById("cpassword").value;
			console.log(name,username,npassword,cpassword);
			if (npassword===cpassword) {
				fetch("/signUp", {
					method: "POST",
					headers: {
						"Content-Type": "application/json;charset=utf-8",
					},
					body: JSON.stringify({name:name, username: username, password: npassword }),
				}).then((response) => response.json())
				.then((data) => {
					console.log(data);
					if (data.status == 1) {
						alert("Signed Up Successfully");
						window.location.replace("/");
					}
					else{
						alert("Sign Up Unsuccessful \n Try Again !!!")
						window.location.reload()
					}
				}).catch((err)=>{
					alert("Something Went Wrong \n Try Again !!!")
				});
			} else {
				alert("Password Don't Match!!!")
			}
		}
	</script>
</body>
</html>